var doctorsWithAvailableVisits=[],setAvailableHours,resetDoctorsWithAvailableVisits;$("#specializationName, #visitDay").on("change",()=>{var n=$("#specializationName").val(),t=$("#visitDay").val();if(t===null||n===null||t===""||n===""){$("#doctorId").attr("disabled",!0);$("#visitHour").attr("disabled",!0);resetDoctorsWithAvailableVisits();return}$.getJSON("Patient/Home/Doctors",{day:t,specializationName:n},n=>{n===null||n.length<1||(resetDoctorsWithAvailableVisits(),n.forEach(n=>{var t={},i;t.DoctorId=n.doctorId;t.Name=n.firstName+" "+n.lastName;t.AvailableVisitsHours=n.availableVisits;doctorsWithAvailableVisits.push(t);i=new Option(t.Name,t.DoctorId);$(i).html(t.Name);$("#doctorId").append(i)}),setAvailableHours(0),$("#doctorId").removeAttr("disabled"),$("#visitHour").removeAttr("disabled"))})});$("#doctorId").on("change",()=>{var n=$("#doctorId").val(),t=doctorsWithAvailableVisits.findIndex(t=>t.DoctorId===n);setAvailableHours(t)});setAvailableHours=n=>{n<0||n>=doctorsWithAvailableVisits.length||($("#visitHour").empty(),doctorsWithAvailableVisits[n].AvailableVisitsHours.forEach(n=>{var t=new Option(n,n);$(t).html(n);$("#visitHour").append(t)}))};resetDoctorsWithAvailableVisits=()=>{$("#doctorId").empty(),$("#visitHour").empty(),doctorsWithAvailableVisits=[]};$("#visitDay").datepicker({dateFormat:"yy-mm-dd",minDate:0,maxDate:"+1M"});